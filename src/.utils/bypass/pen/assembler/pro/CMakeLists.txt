# This file is automatically generated from cmake.toml - DO NOT EDIT
# See https://github.com/build-cpp/cmkr for more information

# Create a configure-time dependency on cmake.toml to improve IDE support
if(CMKR_ROOT_PROJECT)
	configure_file(cmake.toml cmake.toml COPYONLY)
endif()

# Options
option(INSTALL_GTEST "" OFF)
option(BUILD_GMOCK "" OFF)
option(BENCHMARK_ENABLE_TESTING "" OFF)
option(BENCHMARK_ENABLE_INSTALL "" OFF)
option(BENCHMARK_USE_BUNDLED_GTEST "" OFF)

include(FetchContent)

# Fix warnings about DOWNLOAD_EXTRACT_TIMESTAMP
if(POLICY CMP0135)
	cmake_policy(SET CMP0135 NEW)
endif()
message(STATUS "Fetching Zydis (v4.1.0)...")
FetchContent_Declare(Zydis SYSTEM
	GIT_REPOSITORY
		"https://github.com/zyantific/zydis"
	GIT_TAG
		v4.1.0
)
FetchContent_MakeAvailable(Zydis)

if(ZASM_BUILD_TESTS) # build-tests
	message(STATUS "Fetching GTest (release-1.11.0)...")
	FetchContent_Declare(GTest SYSTEM
		GIT_REPOSITORY
			"https://github.com/google/googletest"
		GIT_TAG
			release-1.11.0
	)
	FetchContent_MakeAvailable(GTest)

endif()
if(ZASM_BUILD_BENCHMARKS) # build-benchmarks
	message(STATUS "Fetching GBenchmark (v1.6.1)...")
	FetchContent_Declare(GBenchmark SYSTEM
		GIT_REPOSITORY
			"https://github.com/google/benchmark"
		GIT_TAG
			v1.6.1
	)
	FetchContent_MakeAvailable(GBenchmark)

endif()
